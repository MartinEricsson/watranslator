// Generated by ğŸ¤–
import { readTestData } from '../test-utils.mjs';

async function testStartInstruction(debug = false) {
  try {
    // Load and parse the WAT file
    const { wasmBuffer } = await readTestData('start-instruction/start-instruction.wat', debug);

    const { instance } = await WebAssembly.instantiate(wasmBuffer, {});

    const initStatus = instance.exports.getInitStatus();
    
    if (initStatus === 42) {
      console.log('âœ… Start instruction test passed');
      return true;
    } else {
        console.error('âŒ Start instruction test failed: Expected 42, got', initStatus);
        return false;
    }
  }
  catch (error) {
    console.error('âŒ Test failed:', error);
    return false;
  }
}
// Export the test function
export default testStartInstruction;
// Generated by ü§ñ
import { readTestData } from "../test-utils.mjs";

async function testSelectReference(debug = false) {
    try {
        const {wasmBuffer} = await readTestData('select/select-typed-reference.wat', debug);
        const { instance } = await WebAssembly.instantiate(wasmBuffer, {});

        if (typeof instance.exports.select_funcref !== 'function') {
            throw new Error('select_funcref export not found or not a function');
        }
        
        // Generated by ü§ñ
        // For reference types, we can't easily compare the actual values
        // But we can verify the function exists and can be called without errors
        const result1 = instance.exports.select_funcref(1);
        const result2 = instance.exports.select_funcref(0);
        
        // If we get here without errors, the test passes
        console.log('‚úÖ Typed select with funcref test passed!');
        return true;
    } catch (error) {
        console.error('‚ùå Error testing typed select with reference type:', error);
        return false;
    }
}

export default testSelectReference;
